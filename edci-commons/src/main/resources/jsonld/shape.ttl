@prefix dc:     <http://purl.org/dc/terms/>.
@prefix xsd:    <http://www.w3.org/2001/XMLSchema#>.
@prefix esco:   <http://data.europa.eu/esco/model#>.
@prefix prov:   <http://www.w3.org/ns/prov#>.
@prefix foaf:   <http://xmlns.com/foaf/0.1/>.
@prefix adms:   <http://www.w3.org/ns/adms#>.
@prefix rdf:    <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.
@prefix rdfs:   <http://www.w3.org/2000/01/rdf-schema#>.
@prefix org:    <http://www.w3.org/ns/org#>.
@prefix rov:    <http://www.w3.org/ns/regorg#>.
@prefix gr:     <http://purl.org/goodrelations/v1#>.
@prefix dcat:   <http://www.w3.org/ns/dcat#>.
@prefix elm:    <http://data.europa.eu/snb/model#>.
@prefix edc:    <https://example.org/edc-constraints#>.
@prefix owl:    <http://www.w3.org/2002/07/owl#>.
@prefix cc:     <http://creativecommons.org/ns#>.
@prefix skos:   <http://www.w3.org/2004/02/skos/core#>.
@prefix person: <http://www.w3.org/ns/person#>.
@prefix rov:    <http://www.w3.org/ns/regorg#>.
@prefix adms:   <http://www.w3.org/ns/adms#>.
@prefix vc:     <https://example.org/w3c/vc#>.
@prefix vp:     <https://example.org/w3c/vp#>.
@prefix cred:   <https://www.w3.org/2018/credentials#>.
@prefix schema: <http://schema.org/>.
@prefix sh:     <http://www.w3.org/ns/shacl#>.


<http://data.europa.eu/snb/model/edc-constraints>
  a owl:Ontology;
  owl:imports rdf:;
  owl:imports dc:;
  owl:imports org:;
  owl:imports person:;
  owl:imports adms:;
  owl:imports foaf:;
  owl:imports cred:;
  owl:imports elm:;
  owl:imports skos:;
  owl:imports sh:;
  owl:imports schema:;
  rdfs:label "SHACL constraints for EDC Application Profile"@en;
  dc:created "2021-09-10"^^xsd:date;
  dc:modified "2022-07-12"^^xsd:date;
  dc:title "SHACL constraints for European Digital Credentials  application profile"@en;
  dc:description "SHACL constraints for EDCI application Profile.The EDC application provides the classes with their attributes and relationships,  and the constraints on occurrences and values used."@en;
  rdfs:comment "This document specifies the set of classes and properties used in the EDCI application profile, and the constraints on occurrences and values used."@en;
  owl:versionInfo "1.0.0";
  dc:publisher <http://publications.europa.eu/resource/authority/corporate-body/DEMP>;
  cc:attributionURL <http://ec.europa.eu/> ;
  dc:license <https://creativecommons.org/licenses/by/4.0/>;
  # dc:creator [foaf:mbox "natasa.sofou@gmail.com"; foaf:name "Natasa Sofou"];
  # dc:contributor [foaf:mbox ""; foaf:name ""]; # to be added
  .

  #------ European Digital Credential class and properties shapes --------
  #cred:issuer, cred:credentialSubject, cred:validFrom, cred:expirationDate
  edc:EuropeanDigitalCredentialShape
    a sh:NodeShape;
    sh:targetClass elm:EuropeanDigitalCredential;
    rdfs:comment "A set of claims made by an issuer in Europe, using the EDC Standards. A European Digital Credential for Learning is a set of one or more claims which may be used to demonstrate that the owner has certain skills or has achieved certain learning outcomes through formal, non-formal or informal learning. European Digital Credential class is a subclass of Verifiable Credential."@en;
    rdfs:label "European Digital Credential Shape"@en;
    sh:property edc:EuropeanDigitalCredential-cred_issuer;
    sh:property edc:EuropeanDigitalCredential-cred_credentialSubject;
    sh:property edc:EuropeanDigitalCredential-cred_issuanceDate;
    sh:property edc:EuropeanDigitalCredential-cred_issued;
    sh:property edc:EuropeanDigitalCredential-cred_validFrom;
    sh:property edc:EuropeanDigitalCredential-cred_expirationDate;
    sh:property edc:EuropeanDigitalCredential-cred_validUntil;
     .

  edc:EuropeanDigitalCredential-cred_issuer
    a sh:PropertyShape;
    sh:path cred:issuer;
    sh:class elm:Organisation;
    sh:description "The organisation that issued the credential and sealed it with its digital e-seal. This property is inherited from Verifiable Credential."@en;
    sh:name "issuer"@en;
    sh:minCount 1;
    sh:maxCount 1;
    sh:severity sh:Violation;
    sh:node edc:IssuerNodeShape;
    #sh:order 4;
    .

  edc:EuropeanDigitalCredential-cred_credentialSubject
    a sh:PropertyShape;
    sh:path cred:credentialSubject;
    sh:class elm:Person;
    sh:minCount 1;
    sh:maxCount 1;
    sh:description "The person (subject) about which claims are made and who owns the credential. This property is inherited from Verifiable Credential."@en;
    sh:name "owner"@en;
    sh:severity sh:Violation;
    #sh:order 5;
    .

  edc:EuropeanDigitalCredential-cred_issuanceDate
    a sh:PropertyShape;
    sh:path cred:issuanceDate;
    sh:datatype xsd:dateTime;
    sh:minCount 1;
    sh:maxCount 1;
    sh:description "Defines the date and time, when the European Digital Credential becomes valid. This property is inherited from Verifiable Credential."@en;
    sh:name "issuance date"@en;
    sh:severity sh:Violation;
    #sh:order 7;
    .
   edc:EuropeanDigitalCredential-cred_issued
    a sh:PropertyShape;
    sh:path cred:issued;
    sh:datatype xsd:dateTime;
    sh:minCount 1;
    sh:maxCount 1;
    sh:description "The date when the credential was issued. This property is inherited from Verifiable Credential."@en;
    sh:name "issued"@en;
    sh:severity sh:Violation;
    #sh:order 8;
    .
  edc:EuropeanDigitalCredential-cred_validFrom
    a sh:PropertyShape;
    sh:path cred:validFrom;
    sh:datatype xsd:dateTime;
    sh:minCount 1;
    sh:maxCount 1;
    sh:description "The earliest date when the information associated with the credential subject property became valid. This property is inherited from Verifiable Credential."@en;
    sh:name "valid from"@en;
    sh:severity sh:Violation;
    #sh:order 9;
    .

  edc:EuropeanDigitalCredential-cred_expirationDate
    a sh:PropertyShape;
    sh:path cred:expirationDate;
    sh:datatype xsd:dateTime;
    sh:maxCount 1;
    sh:description "The date when the credential expires. This property is inherited from Verifiable Credential."@en;
    sh:name "expiration date"@en;
    sh:severity sh:Violation;
    #sh:order 10;
    .

  edc:EuropeanDigitalCredential-cred_validUntil
    a sh:PropertyShape;
    sh:path cred:validUntil;
    sh:datatype xsd:dateTime;
    sh:maxCount 1;
    sh:description "The date and time, when the credential expires (automatic invalidation). This property is inherited from Verifiable Credential."@en;
    sh:name "valid until"@en;
    sh:severity sh:Violation;
    #sh:order 11;
  .

  edc:OrganisationShape
    a sh:NodeShape;
    sh:targetClass elm:Organisation;
    rdfs:comment "A legal person / registered organisation. Organisation is a subclass of Agent."@en;
    rdfs:label "Organisation Shape"@en;
    sh:property edc:Organisation-schema_name;
  .

  edc:Organisation-schema_name
    a sh:PropertyShape;
    sh:path schema:name;
    sh:datatype xsd:String;
    sh:minCount 1;
    sh:description "The name of the organisation."@en;
    sh:name "name"@en;
    #sh:order 1;
    sh:severity sh:Violation;
  .

  edc:PersonShape
    a sh:NodeShape;
    sh:targetClass elm:Person;
    rdfs:comment "A human being. Person is a subclass of Agent."@en;
    rdfs:label "Person Shape"@en;
    sh:property edc:Person-schema_givenName;
    sh:property edc:Person-schema_familyName;
  .

  edc:Person-schema_givenName
    a sh:PropertyShape;
    sh:path schema:givenName;
    sh:datatype xsd:String;
    sh:minCount 1;
    sh:description "The given name of the person."@en;
    sh:name "given name"@en;
    sh:severity sh:Violation;
    #sh:order 4;
    .

  edc:Person-schema_familyName
    a sh:PropertyShape;
    sh:path schema:familyName;
    sh:datatype xsd:String;
    sh:minCount 1;
    sh:description "The family name of the person."@en;
    sh:name "family name"@en;
    sh:severity sh:Violation;
    #sh:order 5;
    .